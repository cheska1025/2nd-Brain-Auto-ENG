<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2nd-Brain-Auto 하이브리드 시스템</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- 헤더 -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-brain"></i>
                    <h1>2nd-Brain-Auto 하이브리드</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="settingsBtn">
                        <i class="fas fa-cog"></i> 설정
                    </button>
                    <button class="btn btn-primary" id="newInputBtn">
                        <i class="fas fa-plus"></i> 새 입력
                    </button>
                </div>
            </div>
        </header>

        <!-- 메인 컨텐츠 -->
        <main class="main-content">
            <!-- 사이드바 -->
            <aside class="sidebar">
                <nav class="nav-menu">
                    <ul>
                        <li class="nav-item active">
                            <a href="#dashboard" class="nav-link">
                                <i class="fas fa-tachometer-alt"></i>
                                대시보드
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#input" class="nav-link">
                                <i class="fas fa-edit"></i>
                                입력 처리
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#sync" class="nav-link">
                                <i class="fas fa-sync"></i>
                                동기화 상태
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#history" class="nav-link">
                                <i class="fas fa-history"></i>
                                처리 히스토리
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#analytics" class="nav-link">
                                <i class="fas fa-chart-bar"></i>
                                분석
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- 컨텐츠 영역 -->
            <div class="content-area">
                <!-- 대시보드 탭 -->
                <div id="dashboard" class="tab-content active">
                    <div class="dashboard-header">
                        <h2>시스템 대시보드</h2>
                        <div class="last-updated">
                            마지막 업데이트: <span id="lastUpdate">-</span>
                        </div>
                    </div>

                    <!-- 시스템 상태 카드 -->
                    <div class="status-cards">
                        <div class="status-card">
                            <div class="card-header">
                                <h3>MECE 분류 상태</h3>
                                <i class="fas fa-sitemap"></i>
                            </div>
                            <div class="card-content">
                                <div class="metric">
                                    <span class="metric-value" id="meceScore">-</span>
                                    <span class="metric-label">전체 점수</span>
                                </div>
                                <div class="metric-details">
                                    <div class="detail-item">
                                        <span class="detail-label">ME 점수:</span>
                                        <span class="detail-value" id="meScore">-</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">CE 점수:</span>
                                        <span class="detail-value" id="ceScore">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="status-card">
                            <div class="card-header">
                                <h3>AI 처리 상태</h3>
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="card-content">
                                <div class="metric">
                                    <span class="metric-value" id="aiAccuracy">-</span>
                                    <span class="metric-label">정확도</span>
                                </div>
                                <div class="metric-details">
                                    <div class="detail-item">
                                        <span class="detail-label">총 요청:</span>
                                        <span class="detail-value" id="totalRequests">-</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">성공률:</span>
                                        <span class="detail-value" id="successRate">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="status-card">
                            <div class="card-header">
                                <h3>동기화 상태</h3>
                                <i class="fas fa-sync"></i>
                            </div>
                            <div class="card-content">
                                <div class="metric">
                                    <span class="metric-value" id="syncStatus">-</span>
                                    <span class="metric-label">상태</span>
                                </div>
                                <div class="metric-details">
                                    <div class="detail-item">
                                        <span class="detail-label">대기 중:</span>
                                        <span class="detail-value" id="pendingSync">-</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">오류:</span>
                                        <span class="detail-value" id="syncErrors">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 최근 활동 -->
                    <div class="recent-activity">
                        <h3>최근 활동</h3>
                        <div class="activity-list" id="recentActivity">
                            <!-- 동적으로 생성됨 -->
                        </div>
                    </div>
                </div>

                <!-- 입력 처리 탭 -->
                <div id="input" class="tab-content">
                    <div class="input-header">
                        <h2>새 입력 처리</h2>
                        <div class="input-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableAI" checked>
                                <span class="checkmark"></span>
                                AI 자동 처리
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableSync" checked>
                                <span class="checkmark"></span>
                                자동 동기화
                            </label>
                        </div>
                    </div>

                    <div class="input-form">
                        <div class="form-group">
                            <label for="userHeadline">헤드라인 (선택사항)</label>
                            <select id="userHeadline" class="form-control">
                                <option value="">헤드라인 선택...</option>
                                <option value="[프로젝트-업무]">[프로젝트-업무]</option>
                                <option value="[프로젝트-개인]">[프로젝트-개인]</option>
                                <option value="[영역-업무]">[영역-업무]</option>
                                <option value="[영역-개인]">[영역-개인]</option>
                                <option value="[학습-전문]">[학습-전문]</option>
                                <option value="[학습-교양]">[학습-교양]</option>
                                <option value="[자료-업무]">[자료-업무]</option>
                                <option value="[자료-개인]">[자료-개인]</option>
                                <option value="[임시]">[임시]</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="inputText">입력 내용</label>
                            <textarea id="inputText" class="form-control" rows="6" 
                                placeholder="처리할 내용을 입력하세요..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="processingType">처리 타입 (AI 자동 처리 시)</label>
                            <select id="processingType" class="form-control">
                                <option value="">자동 선택</option>
                                <option value="project_analysis">프로젝트 분석</option>
                                <option value="document_processing">문서 처리</option>
                                <option value="knowledge_extraction">지식 추출</option>
                                <option value="content_enhancement">콘텐츠 향상</option>
                                <option value="personal_management">개인 관리</option>
                                <option value="content_creation">콘텐츠 생성</option>
                            </select>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-primary" id="processBtn">
                                <i class="fas fa-play"></i> 처리 시작
                            </button>
                            <button class="btn btn-secondary" id="clearBtn">
                                <i class="fas fa-trash"></i> 초기화
                            </button>
                        </div>
                    </div>

                    <!-- 처리 결과 -->
                    <div class="processing-result" id="processingResult" style="display: none;">
                        <h3>처리 결과</h3>
                        <div class="result-content">
                            <!-- 동적으로 생성됨 -->
                        </div>
                    </div>
                </div>

                <!-- 동기화 상태 탭 -->
                <div id="sync" class="tab-content">
                    <div class="sync-header">
                        <h2>동기화 상태</h2>
                        <button class="btn btn-primary" id="refreshSyncBtn">
                            <i class="fas fa-sync"></i> 새로고침
                        </button>
                    </div>

                    <div class="sync-status">
                        <div class="sync-platforms">
                            <div class="platform-card">
                                <div class="platform-header">
                                    <i class="fab fa-markdown"></i>
                                    <h3>Obsidian</h3>
                                    <span class="status-indicator" id="obsidianStatus">-</span>
                                </div>
                                <div class="platform-details">
                                    <div class="detail-item">
                                        <span>마지막 동기화:</span>
                                        <span id="obsidianLastSync">-</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>동기화된 파일:</span>
                                        <span id="obsidianFileCount">-</span>
                                    </div>
                                </div>
                            </div>

                            <div class="platform-card">
                                <div class="platform-header">
                                    <i class="fas fa-database"></i>
                                    <h3>Notion</h3>
                                    <span class="status-indicator" id="notionStatus">-</span>
                                </div>
                                <div class="platform-details">
                                    <div class="detail-item">
                                        <span>마지막 동기화:</span>
                                        <span id="notionLastSync">-</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>동기화된 페이지:</span>
                                        <span id="notionPageCount">-</span>
                                    </div>
                                </div>
                            </div>

                            <div class="platform-card">
                                <div class="platform-header">
                                    <i class="fas fa-folder"></i>
                                    <h3>Local PC</h3>
                                    <span class="status-indicator" id="localPCStatus">-</span>
                                </div>
                                <div class="platform-details">
                                    <div class="detail-item">
                                        <span>마지막 동기화:</span>
                                        <span id="localPCLastSync">-</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>동기화된 파일:</span>
                                        <span id="localPCFileCount">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="sync-queue">
                            <h3>동기화 큐</h3>
                            <div class="queue-list" id="syncQueue">
                                <!-- 동적으로 생성됨 -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 처리 히스토리 탭 -->
                <div id="history" class="tab-content">
                    <div class="history-header">
                        <h2>처리 히스토리</h2>
                        <div class="history-filters">
                            <select id="categoryFilter" class="form-control">
                                <option value="">모든 카테고리</option>
                                <option value="업무-핵심">업무-핵심</option>
                                <option value="업무-지원">업무-지원</option>
                                <option value="개인-필수">개인-필수</option>
                                <option value="개인-선택">개인-선택</option>
                                <option value="학습-업무">학습-업무</option>
                                <option value="학습-교양">학습-교양</option>
                            </select>
                            <input type="date" id="dateFilter" class="form-control">
                            <button class="btn btn-secondary" id="applyFiltersBtn">적용</button>
                        </div>
                    </div>

                    <div class="history-list" id="historyList">
                        <!-- 동적으로 생성됨 -->
                    </div>
                </div>

                <!-- 분석 탭 -->
                <div id="analytics" class="tab-content">
                    <div class="analytics-header">
                        <h2>시스템 분석</h2>
                        <div class="analytics-period">
                            <select id="analyticsPeriod" class="form-control">
                                <option value="7">최근 7일</option>
                                <option value="30">최근 30일</option>
                                <option value="90">최근 90일</option>
                            </select>
                        </div>
                    </div>

                    <div class="analytics-content">
                        <div class="chart-container">
                            <h3>카테고리별 처리 현황</h3>
                            <canvas id="categoryChart"></canvas>
                        </div>

                        <div class="chart-container">
                            <h3>AI 제공자별 성능</h3>
                            <canvas id="providerChart"></canvas>
                        </div>

                        <div class="analytics-stats">
                            <div class="stat-card">
                                <h4>처리 통계</h4>
                                <div class="stat-item">
                                    <span>총 처리 건수:</span>
                                    <span id="totalProcessed">-</span>
                                </div>
                                <div class="stat-item">
                                    <span>평균 신뢰도:</span>
                                    <span id="avgConfidence">-</span>
                                </div>
                                <div class="stat-item">
                                    <span>가장 많이 사용된 카테고리:</span>
                                    <span id="mostUsedCategory">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 설정 모달 -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>시스템 설정</h3>
                <button class="close-btn" id="closeSettingsBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <h4>AI 설정</h4>
                    <div class="setting-item">
                        <label>기본 AI 제공자:</label>
                        <select id="defaultAIProvider">
                            <option value="claude">Claude</option>
                            <option value="perplexity">Perplexity</option>
                            <option value="ollama">Ollama</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>신뢰도 임계값:</label>
                        <input type="range" id="confidenceThreshold" min="50" max="95" value="70">
                        <span id="confidenceValue">70%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <h4>동기화 설정</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="autoSyncEnabled" checked>
                            자동 동기화 활성화
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>동기화 간격:</label>
                        <select id="syncInterval">
                            <option value="5000">5초</option>
                            <option value="10000">10초</option>
                            <option value="30000">30초</option>
                        </select>
                    </div>
                </div>

                <div class="setting-group">
                    <h4>인터페이스 설정</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="darkModeEnabled">
                            다크 모드
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>언어:</label>
                        <select id="language">
                            <option value="ko">한국어</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="saveSettingsBtn">저장</button>
                <button class="btn btn-secondary" id="cancelSettingsBtn">취소</button>
            </div>
        </div>
    </div>

    <!-- 로딩 오버레이 -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>처리 중...</p>
        </div>
    </div>

    <!-- 스크립트 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
